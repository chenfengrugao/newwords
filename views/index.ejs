<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="keywords" content="words, 生词本, 例句"/>
	<meta name="description" content="最灵活实用的生词本" />
        <title>生词本</title>
	<link rel="stylesheet" href="public/bootstrap/4.1.3/bootstrap.min.css">
	<script src="public/bootstrap/4.1.3/jquery-3.3.1.min.js"></script>
	<script src="public/bootstrap/4.1.3/popper.min.js"></script>
	<script src="public/bootstrap/4.1.3/bootstrap.min.js"></script>
	<link rel="stylesheet" href="public/common.css">
	<script>
	    function save(){
		$.get('save_handle', function(){
		    alert("保存成功");
		});
	    }
	    function delete_word(w){
		$.get('delete?w=' + w, function(){
			alert("删除成功，请刷新");
			location.reload();
		});
	    }
  	    function word_hl(){
		var words = document.getElementsByName('word');
		var sentences = document.getElementsByName('sentence');
		//alert(words[0].innerText + sentences.innerHTML);
		for(var i=0; i<words.length; i++){
		    word = words[i].innerText;
		    sentence = sentences[i].innerHTML;
		    sentence_new = sentence.replace(new RegExp(word, 'ig'), "<span style='color:red'>" + word + "</span>");
		    sentences[i].innerHTML = sentence_new;
		}
	    }
	    window.onload = function(){
		word_hl();
	    }
	</script>
    </head>
    <body>
        <div class="bg_white container">
            <div class="header text-center">
	        <p>生词本</p>
	    </div>

	    <div class="">
	        <p><a href="add" target="_blank">添加生词</a> <a href="javascript:void(0)" onclick="save()">保存</a></p>
	    </div>

	    <div class="">
	        <div><%- body %></div>
	    </div>

	    <div class="">
	        <p><a href="add" target="_blank">添加生词</a> <a href="javascript:void(0)" onclick="save()">保存</a></p>
	    </div>

	    <div class="footer text-center">
	      <p>生词本 v<%= ver %></p>
	    </div> 
	</div>
    </body>
</html>

